# MoodTrack 

Android-приложение для ведения дневника настроения и эмоций на основе принципов когнитивно-поведенческой терапии.

Приложение помогает фиксировать ситуации, мысли и телесные реакции, отслеживать динамику состояния и замечать повторяющиеся шаблоны, которые влияют на настроение.

## О проекте

MoodTrack создан как инструмент самонаблюдения и поддержки работы с психотерапевтом. Основной акцент сделан на простом интерфейсе и понятной структуре записей.

Приложение подходит пользователям, которые:

- хотят лучше понимать свои эмоции в повседневных ситуациях;
- предпочитают вести структурированный дневник, а не свободный текст;
- отслеживают влияние разных факторов на настроение;
- готовят записи для обсуждения со специалистом.

## Основные возможности

### Записи

- Пошаговый мастер новой записи (5 экранов).
- Два режима: ощущения за день и сиюминутное состояние.
- Поля для ситуации, мыслей, ощущений и действий.

### Эмоции и факторы влияния

- Редактируемый список эмоций.
- Быстрый выбор эмоций чипами на отдельном шаге.
- Блок «больше всего повлияло» с набором факторов и визуальной отметкой выбранных.

### Архив и просмотр

- Лента записей с карточками по датам и времени.
- Экран просмотра записи без редактирования: только текст и выбранные эмоции.
- Поиск по архиву.

### Настройки и безопасность

- Настройка структуры записи (какие блоки показывать).
- Выбор темы оформления (светлая, тёмная, системная).
- Установка, изменение и удаление PIN-кода доступа.
- Никнейм пользователя в настройках с возможностью редактирования.

### Статистика и экспорт

- Диаграммы по эмоциям и влияющим факторам.
- Выбор периода для анализа.
- Экспорт записей в CSV и PDF для передачи специалисту.

## Технический стек

- Язык: Kotlin
- Платформа: Android
- Архитектура: MVVM
- Хранение данных: Room (SQLite)
- Интерфейс: XML-разметка, Material Components

## Структура проекта (укрупнённо)

- `app/src/main/java/com/mawekk/sterdiary` – исходный код приложения
  - `fragments/` – экраны архива, новой записи, настроек, статистики и др.
  - `db/` – сущности, DAO и база данных Room
  - `ExportWorker.kt` – формирование файлов экспорта
  - `NoteWorker.kt` – логика мастера новой записи
- `app/src/main/res` – ресурсы (разметки, строки, цвета, иконки)
- `app/src/main/AndroidManifest.xml` – манифест приложения

## Сборка и установка

1. Открыть проект в Android Studio.
2. Дождаться синхронизации Gradle.
3. Собрать и запустить конфигурацию `app` на устройстве или эмуляторе.

Готовый APK можно собрать через пункт меню `Build > Build Bundle(s) / APK(s) > Build APK(s)`.

### Запуск приложения

- В Android Studio выбрать конфигурацию `app` в выпадающем списке Run/Debug.
- Подключить устройство по USB или запустить эмулятор.
- Нажать `Run` (зелёная кнопка) или сочетание клавиш `Shift+F10`.
- После установки приложение появится на устройстве под названием `MoodTrack`.

Запуск через Gradle из корня проекта:

- `./gradlew assembleDebug` — собрать debug APK.
- `./gradlew installDebug` — собрать и установить debug-версию на подключённое устройство (при включённой отладке по USB).

## Используемые библиотеки

- Диаграммы статистики: [futuredapp/donut](https://github.com/futuredapp/donut)
- Экспорт CSV: [doyaaaaaken/kotlin-csv](https://github.com/doyaaaaaken/kotlin-csv)
- Экспорт PDF: [itext/itext7](https://github.com/itext/itext7)